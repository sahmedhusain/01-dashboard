import{r as h,R as ce,j as e,m as u}from"./animation-vendor-w_1g82yL.js";import{C as me}from"./Card-Dh5KB05c.js";import{L as he,A as ue,b as xe}from"./index-BTdpqixk.js";import{G as be,a as pe,b as fe}from"./allQueries-C1LmK1xE.js";import{T as F,U as J,v as ve,q as Q,s as ge,X as we,Y as Ne,_ as je,A as ye,$ as Le,a0 as Ce}from"./ui-vendor-DhSas2Kz.js";import{d as z}from"./apollo-vendor-8AJvV5pX.js";import"./react-vendor-DJG_os-6.js";const Ie=({user:y})=>{const[m,I]=h.useState("level"),[p,k]=h.useState("all"),[w,D]=h.useState(""),[A,K]=h.useState(""),[S,Z]=h.useState(1),[b,ee]=h.useState("desc"),[R,te]=h.useState(100),{data:c,loading:q}=z(be,{errorPolicy:"all",fetchPolicy:"cache-and-network"}),{data:L,loading:$}=z(pe,{errorPolicy:"all",fetchPolicy:"cache-and-network"}),{data:N,loading:H}=z(fe,{errorPolicy:"all",fetchPolicy:"cache-and-network"}),P=h.useMemo(()=>(N?.label||[]).filter(s=>s.name.toLowerCase().includes("cohort")).map(s=>{const l=s.name.toLowerCase();let r=s.name;return l.includes("cohort4")||l.includes("cohort-4")?r="Cohort 4":l.includes("cohort1")?r="Cohort 1":l.includes("cohort2")?r="Cohort 2":l.includes("cohort3")&&(r="Cohort 3"),{id:s.id,name:r,description:s.description||""}}).filter((s,l,r)=>r.findIndex(i=>i.name===s.name)===l),[N?.label]),O=h.useMemo(()=>{const t=new Map;return N?.label&&N.label.forEach(o=>{const a=o.name.toLowerCase(),s=o.description||"";if(!a.includes("cohort"))return;const l=[/module #(\d+)/i,/event #(\d+)/i,/event (\d+)/i,/#(\d+)/i,/id:?\s*(\d+)/i];let r=null;for(const i of l){const d=s.match(i);if(d){r=parseInt(d[1],10);break}}if(r){let i=o.name;a.includes("cohort4")||a.includes("cohort-4")?i="Cohort 4":a.includes("cohort1")?i="Cohort 1":a.includes("cohort2")?i="Cohort 2":a.includes("cohort3")&&(i="Cohort 3"),t.set(r,i)}}),t.size===0,t},[N?.label]),B=h.useMemo(()=>{const t=new Map,o=L?.label_user||[],a=c?.userLabels||[];return[...o,...a].forEach(r=>{if(r.label?.name?.toLowerCase().includes("cohort")){const i=r.userId;t.has(i)||t.set(i,[]);const d=r.label,n=d.name.toLowerCase();let f=d.name;n.includes("cohort4")||n.includes("cohort-4")?f="Cohort 4":n.includes("cohort1")?f="Cohort 1":n.includes("cohort2")?f="Cohort 2":n.includes("cohort3")&&(f="Cohort 3");const v={...r,label:{...d,name:f}};t.get(i).push(v)}}),(c?.allEventUsers||[]).forEach(r=>{const i=r.userId,d=r.eventId,n=O.get(d);if(n&&i&&(t.has(i)||t.set(i,[]),!(t.get(i)||[]).some(g=>g.label.name===n))){const g={id:d*1e6+i,userId:i,labelId:d,label:{id:d,name:n,description:`Cohort based on Event ${d} participation`}};t.get(i).push(g)}}),t.forEach((r,i)=>{const d=new Set,n=r.filter(f=>{const v=f.label.name;return d.has(v)?!1:(d.add(v),!0)});t.set(i,n)}),t},[L?.label_user,c?.userLabels,c?.allEventUsers,O]);ce.useEffect(()=>{},[q,c,$,L,H,N]);const U=q||$||H,ae=!c&&!U,x=h.useMemo(()=>{if(!c?.bhModuleUsers)return[];const t=new Map,o=new Map;return c.allUsersWithEvents&&c.allUsersWithEvents.forEach(a=>{t.set(a.id,a)}),c.publicUsers&&c.publicUsers.forEach(a=>{o.set(a.id,a)}),c.bhModuleUsers.map((a,s)=>{const l=a.userId,r=a.userLogin,i=a.userName,d=Number(a.userAuditRatio)||0;if(!l)return null;let n=t.get(l);n||(n=o.get(l));const v=(B.get(l)||[]).filter(j=>j.label?.name?.toLowerCase().includes("cohort")),g=v.map(j=>j.label.name);let M="No Cohort";g.length>0&&(M=g[0]);const Y=v;if(!n){const j=i?i.split(" "):[];return{id:l,login:r||`user_${l}`,firstName:j[0]||"",lastName:j.slice(1).join(" ")||"",profile:"",attrs:{},auditRatio:d,totalUp:0,totalDown:0,level:a.level||0,totalXP:0,cohort:M,eventPath:"/bahrain/bh-module",createdAt:a.createdAt,rank:s+1,userLabels:Y,labelNames:g}}return{id:l,login:n.login||r||`user_${l}`,firstName:n.firstName||"",lastName:n.lastName||"",profile:n.profile||"",attrs:n.attrs||{},auditRatio:d,totalUp:n.totalUp||0,totalDown:n.totalDown||0,level:a.level||0,totalXP:n.totalUp||0,cohort:M,eventPath:"/bahrain/bh-module",createdAt:n.createdAt||a.createdAt,rank:s+1,userLabels:Y,labelNames:g}}).filter(Boolean)},[c,B]),se=h.useMemo(()=>{const t=new Set(["all"]);return x.forEach(a=>{a.labelNames&&a.labelNames.length>0&&a.labelNames.forEach(s=>{t.add(s)}),a.cohort&&a.cohort!=="No Cohort"&&t.add(a.cohort)}),Array.from(t).sort()},[x]),E=h.useMemo(()=>{let t=[...x];return p!=="all"&&(t=t.filter(o=>o.labelNames?.includes(p)||o.cohort===p)),w&&(t=t.filter(o=>o.login.toLowerCase().includes(w.toLowerCase())||o.firstName?.toLowerCase().includes(w.toLowerCase())||o.lastName?.toLowerCase().includes(w.toLowerCase()))),A&&(t=t.filter(o=>(o.userLabels?.filter(s=>s.label.name.toLowerCase().includes("cohort"))||[]).some(s=>s.label.name.toLowerCase().includes(A.toLowerCase()))||o.cohort?.toLowerCase().includes(A.toLowerCase()))),S>1&&(t=t.filter(o=>(o.level||0)>=S)),t.sort((o,a)=>{let s,l;switch(m){case"level":s=o.level||0,l=a.level||0;break;case"audit":s=Number(o.auditRatio)||0,l=Number(a.auditRatio)||0;break;default:s=o.level||0,l=a.level||0}return b==="desc"?l-s:s-l}),t},[x,p,w,A,S,m,b]),T=h.useMemo(()=>{const o=[...x].sort((a,s)=>{let l,r;switch(m){case"level":l=a.level||0,r=s.level||0;break;case"audit":l=Number(a.auditRatio)||0,r=Number(s.auditRatio)||0;break;default:l=a.level||0,r=s.level||0}m==="audit"&&(isFinite(l)||(l=0),isFinite(r)||(r=0));const i=b==="desc"?r-l:l-r;if(i!==0)return i;if(m==="audit"){const d=b==="desc"?(s.level||0)-(a.level||0):(a.level||0)-(s.level||0);if(d!==0)return d}return a.login.localeCompare(s.login)}).findIndex(a=>a.id===y.id);return o>=0?o+1:null},[x,y.id,m,b]),re=h.useCallback(t=>{const a=[...x].sort((s,l)=>{let r,i;switch(m){case"level":r=s.level||0,i=l.level||0;break;case"audit":r=Number(s.auditRatio)||0,i=Number(l.auditRatio)||0;break;default:r=s.level||0,i=l.level||0}m==="audit"&&(isFinite(r)||(r=0),isFinite(i)||(i=0));const d=b==="desc"?i-r:r-i;if(d!==0)return d;if(m==="audit"){const n=b==="desc"?(l.level||0)-(s.level||0):(s.level||0)-(l.level||0);if(n!==0)return n}return s.login.localeCompare(l.login)}).findIndex(s=>s.id===t);return a>=0?a+1:null},[x,m,b]),C=c?.bhModuleStats?.aggregate?.count||x.length,le=c?.bhModuleStats?.aggregate?.max?.level||Math.max(...x.map(t=>t.level||0),0),oe=c?.bhModuleStats?.aggregate?.avg?.level||x.reduce((t,o)=>t+(o.level||0),0)/Math.max(C,1),_=x.map(t=>Number(t.auditRatio)||0).filter(t=>isFinite(t)&&t>0),ie=_.length>0?_.reduce((t,o)=>t+o,0)/_.length:0,G=t=>t==="all"?"All Cohorts":t.charAt(0).toUpperCase()+t.slice(1),W=t=>{switch(t){case 1:return e.jsx(Ce,{className:"w-5 h-5 text-yellow-400"});case 2:return e.jsx(Le,{className:"w-5 h-5 text-gray-300"});case 3:return e.jsx(ye,{className:"w-5 h-5 text-amber-600"});default:return e.jsxs("span",{className:"text-white/60 font-bold",children:["#",t]})}},ne=t=>{switch(t){case 1:return"bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 border-yellow-500/30 shadow-lg shadow-yellow-500/10";case 2:return"bg-gradient-to-r from-gray-400/20 to-gray-500/20 border-gray-400/30 shadow-lg shadow-gray-500/10";case 3:return"bg-gradient-to-r from-amber-600/20 to-amber-700/20 border-amber-600/30 shadow-lg shadow-amber-600/10";default:return"bg-gradient-to-r from-white/5 to-white/2 border-white/10 hover:bg-white/10 hover:border-emerald-400/20"}},X=()=>{const t=p!=="all"?` - ${G(p)}`:"";switch(m){case"level":return`Level Rankings${t}`;case"audit":return`Audit Ratio Rankings${t}`;default:return`Leaderboard${t}`}},de=t=>{switch(m){case"level":return{value:`Level ${t.level||0}`,subValue:""};case"audit":return{value:(Number(t.auditRatio)||0).toFixed(1),subValue:""};default:return{value:`${t.level||0}`,subValue:""}}};return U?e.jsx(he,{}):ae?e.jsx(me,{className:"p-6",children:e.jsxs("div",{className:"text-center text-red-400",children:[e.jsx("p",{children:"Error loading leaderboard data"}),e.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Unable to load required data"})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-emerald-900/20 to-slate-900 h-full w-full relative",children:[e.jsxs("div",{className:"fixed inset-0 opacity-30 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 to-teal-500/5"}),e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 35px 35px, rgba(52, 211, 153, 0.1) 2px, transparent 0)",backgroundSize:"70px 70px"}})]}),e.jsx("div",{className:"relative z-10 h-full w-full overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"relative space-y-8 p-6",children:[(L?.label_user?.length||0)<=1&&!$&&e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-amber-200 text-sm font-medium",children:"Label Access Limited"}),e.jsxs("p",{className:"text-amber-100/70 text-xs mt-1",children:["Only ",L?.label_user?.length||0,' label assignment(s) accessible. Users may show "No labels" due to database permissions.']})]})]})}),e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[e.jsxs(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full backdrop-blur-xl border border-emerald-400/30 mb-6 shadow-2xl shadow-emerald-500/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/10 to-teal-400/10 animate-pulse"}),e.jsx(F,{className:"w-12 h-12 text-emerald-400 drop-shadow-lg relative z-10"})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-emerald-100 to-teal-100 bg-clip-text text-transparent mb-4",children:"Leaderboard Dashboard"}),e.jsxs("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:["Rankings for ",e.jsx("span",{className:"text-emerald-400 font-semibold",children:C})," students"]})]})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(V,{icon:J,title:"Total Students",value:C.toLocaleString(),color:"from-emerald-500/30 to-teal-500/30",subValue:"Participants"}),e.jsx(V,{icon:ve,title:"Average Level",value:oe.toFixed(1),color:"from-teal-500/30 to-cyan-500/30",subValue:`Max: ${le}`}),e.jsx(V,{icon:Q,title:"Avg Audit Ratio",value:ie.toFixed(2),color:"from-cyan-500/30 to-emerald-500/30",subValue:"Community contribution"})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},className:"bg-gradient-to-br from-white/5 to-white/2 backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:bg-white/10 hover:border-emerald-400/30 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-xl flex items-center justify-center backdrop-blur-sm border border-emerald-400/20",children:e.jsx(J,{className:"w-4 h-4 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Available Cohort Labels"}),e.jsx("p",{className:"text-sm text-white/60",children:"Dynamic cohort detection from database"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.length>0?P.map((t,o)=>e.jsx(u.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:o*.05},className:"px-3 py-1.5 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 rounded-xl text-sm font-medium border border-emerald-400/30 hover:bg-emerald-500/30 hover:border-emerald-400/50 transition-all duration-300 cursor-pointer backdrop-blur-sm",title:t.description,onClick:()=>K(t.name),children:t.name},t.id)):e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm",children:"No cohort labels detected or limited database access"})]})}),P.length>0&&e.jsx("p",{className:"text-xs text-white/50 mt-3",children:"ðŸ’¡ Click on a cohort label to search for users with that label"})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-wrap gap-2 justify-center",children:[{key:"level",label:"ðŸ“Š Level Rankings",icon:ge},{key:"audit",label:"âš–ï¸ Audit Rankings",icon:Q}].map(({key:t,label:o,icon:a})=>e.jsxs("button",{onClick:()=>I(t),className:`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 relative overflow-hidden ${m===t?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-white/20":"bg-white/10 text-white/70 hover:bg-emerald-500/20 hover:text-white hover:border-emerald-400/30 border border-transparent"}`,children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:o})]},t))}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by username, full name",value:w,onChange:t=>D(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 backdrop-blur-sm transition-all duration-300"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("select",{value:p,onChange:t=>k(t.target.value),className:"bg-white/10 border border-white/20 rounded-xl px-3 py-3 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 backdrop-blur-sm transition-all duration-300",children:se.map(t=>e.jsx("option",{value:t,children:G(t)},t))}),e.jsxs("select",{value:S,onChange:t=>Z(Number(t.target.value)),className:"bg-white/10 border border-white/20 rounded-xl px-3 py-3 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 backdrop-blur-sm transition-all duration-300",children:[e.jsx("option",{value:1,children:"All Levels"}),e.jsx("option",{value:5,children:"Level 5+"}),e.jsx("option",{value:10,children:"Level 10+"}),e.jsx("option",{value:20,children:"Level 20+"}),e.jsx("option",{value:40,children:"Level 40+"}),e.jsx("option",{value:80,children:"Level 80+"}),e.jsx("option",{value:100,children:"Level 100+"})]}),e.jsxs("button",{onClick:()=>ee(b==="desc"?"asc":"desc"),className:"flex items-center space-x-2 px-3 py-3 bg-white/10 hover:bg-emerald-500/20 border border-white/20 hover:border-emerald-400/30 rounded-xl text-white transition-all duration-300 backdrop-blur-sm",children:[b==="desc"?e.jsx(Ne,{className:"w-4 h-4"}):e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:b==="desc"?"High to Low":"Low to High"})]})]})]})}),T&&e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsx("div",{className:"p-4 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 backdrop-blur-xl rounded-2xl shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[W(T),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Your Current Position"}),e.jsx("p",{className:"text-white/60 text-sm",children:X()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:["#",T]}),e.jsxs("p",{className:"text-white/60 text-sm",children:["of ",C]})]})]})})}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-gradient-to-br from-white/5 to-white/2 backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:bg-white/10 hover:border-emerald-400/30 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-lg flex items-center justify-center mr-3 backdrop-blur-sm border border-emerald-400/20",children:e.jsx(F,{className:"w-3.5 h-3.5 text-emerald-400"})}),X(),e.jsxs("span",{className:"ml-2 text-emerald-400",children:["(",E.length,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Show:"}),e.jsxs("select",{value:R,onChange:t=>te(Number(t.target.value)),className:"bg-white/10 border border-white/20 rounded-xl px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 backdrop-blur-sm transition-all duration-300",children:[e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"}),e.jsx("option",{value:500,children:"500"})]})]})]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto custom-scrollbar",children:[E.slice(0,R).map((t,o)=>{const a=re(t.id)||o+1,s=t.id===y.id,l=de(t);return e.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.02},className:`flex items-center justify-between p-3 rounded-xl border transition-all duration-300 backdrop-blur-sm ${s?"bg-emerald-500/20 border-emerald-500/30 ring-1 ring-emerald-500/20 shadow-lg shadow-emerald-500/10":ne(a)}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:W(a)}),e.jsx(ue,{user:t,size:"sm",className:"w-8 h-8"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h4",{className:"text-white font-medium",children:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.login}),t.firstName&&t.lastName&&e.jsxs("span",{className:"text-xs text-white/60",children:["@",t.login]})]}),s&&e.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded-lg text-xs font-medium border border-emerald-400/30",children:"You"})]}),null,e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-white/60 mt-1",children:[t.userLabels&&t.userLabels.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:t.userLabels.map((r,i)=>e.jsxs("span",{className:"px-1.5 py-0.5 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 text-emerald-400 rounded-lg text-xs font-medium border border-emerald-400/30 backdrop-blur-sm",title:`Cohort Label: ${r.label.name}`,children:["ðŸ·ï¸ ",r.label.name]},r.id||i))}),(!t.userLabels||t.userLabels.length===0)&&e.jsx("span",{className:"text-yellow-400 text-xs",children:"No cohort labels"}),e.jsxs("span",{className:"ml-auto",children:["Joined ",xe(t.createdAt)]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:l.value}),e.jsx("div",{className:"text-xs text-white/60",children:l.subValue})]})]},t.id)}),E.length>R&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("p",{className:"text-white/60 text-sm",children:["Showing ",R," of ",C," users"]})})]})]}),U&&e.jsx("div",{className:"bg-gradient-to-br from-white/5 to-white/2 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"}),e.jsx("span",{className:"ml-3 text-white/70",children:"Loading leaderboard data..."})]})}),E.length===0&&!U&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),e.jsx("h3",{className:"text-white/70 text-lg font-medium mb-2",children:"No users found"}),e.jsx("p",{className:"text-white/50",children:"Try adjusting your search criteria or filters."})]})]})})]})},V=({icon:y,title:m,value:I,color:p,subValue:k})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-gradient-to-br ${p} backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:border-emerald-400/30 transition-all duration-300 hover:transform hover:scale-105 shadow-xl hover:shadow-2xl hover:shadow-emerald-500/10`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(y,{className:"w-8 h-8 text-white drop-shadow-lg"})})}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:I}),e.jsx("p",{className:"text-white/70 text-sm font-medium",children:m}),k&&e.jsx("p",{className:"text-white/50 text-xs mt-2 bg-white/5 rounded-lg px-2 py-1",children:k})]});export{Ie as default};
