import{r as i,j as e,m as p}from"./animation-vendor-CTGg7XC5.js";import{C as h}from"./index-5epzrz73.js";import{w as g,x as w,S as y,b as S,y as C}from"./ui-vendor-g4Irxhbg.js";import"./react-vendor-Csw2ODfV.js";import"./apollo-vendor-CuB5uN0C.js";const x={theme:"dark",dashboard:{compactMode:!1,showAnimations:!0,defaultTab:"dashboard",chartsEnabled:!0},privacy:{showProfile:!0,showProgress:!0,showStats:!0}},D=({userId:n,onClose:b})=>{const[r,o]=i.useState(x),[f,d]=i.useState(!1),[c,j]=i.useState("appearance");i.useEffect(()=>{const s=localStorage.getItem(`user-preferences-${n}`);if(s)try{const a=JSON.parse(s);o({...x,...a})}catch(a){console.error("Failed to parse preferences:",a)}},[n]);const l=(s,a,t)=>{o(m=>({...m,[s]:{...m[s],[a]:t}})),d(!0)},u=()=>{localStorage.setItem(`user-preferences-${n}`,JSON.stringify(r)),d(!1),console.log("Preferences saved:",r)},v=()=>{o(x),d(!0)},N=[{id:"appearance",label:"Appearance",icon:w},{id:"dashboard",label:"Dashboard",icon:y},{id:"privacy",label:"Privacy",icon:S}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(p.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Preferences"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Customize your dashboard experience"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[f&&e.jsxs(p.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:u,className:"flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),e.jsx("button",{onClick:b,className:"text-white/60 hover:text-white transition-colors",children:"âœ•"})]})]})}),e.jsxs("div",{className:"flex h-[600px]",children:[e.jsxs("div",{className:"w-64 bg-gray-900/50 border-r border-gray-700 p-4",children:[e.jsx("nav",{className:"space-y-2",children:N.map(s=>{const a=s.icon,t=c===s.id;return e.jsxs("button",{onClick:()=>j(s.id),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors ${t?"bg-primary-600 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e.jsx(a,{className:"w-5 h-5 mr-3"}),s.label]},s.id)})}),e.jsx("div",{className:"mt-8 pt-4 border-t border-gray-700",children:e.jsxs("button",{onClick:v,className:"w-full flex items-center px-3 py-2 text-white/60 hover:text-white transition-colors",children:[e.jsx(C,{className:"w-4 h-4 mr-3"}),"Reset to Defaults"]})})]}),e.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[c==="appearance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Appearance Settings"}),e.jsxs(h,{className:"p-4",children:[e.jsx("label",{className:"block text-white font-medium mb-3",children:"Theme"}),e.jsx("div",{className:"space-y-2",children:["dark","light","auto"].map(s=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"theme",value:s,checked:r.theme===s,onChange:a=>l("theme","theme",a.target.value),className:"mr-3"}),e.jsx("span",{className:"text-white/80 capitalize",children:s})]},s))})]})]}),c==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dashboard Settings"}),e.jsx(h,{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:Object.entries(r.dashboard).map(([s,a])=>s==="defaultTab"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Default Tab"}),e.jsxs("select",{value:a,onChange:t=>l("dashboard",s,t.target.value),className:"w-full bg-gray-700 text-white rounded px-3 py-2",children:[e.jsx("option",{value:"dashboard",children:"Dashboard"}),e.jsx("option",{value:"leaderboard",children:"Leaderboard"}),e.jsx("option",{value:"search",children:"Search"}),e.jsx("option",{value:"export",children:"Export"})]})]},s):e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/80 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx("input",{type:"checkbox",checked:a,onChange:t=>l("dashboard",s,t.target.checked),className:"ml-3"})]},s))})})]}),c==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Privacy Settings"}),e.jsx(h,{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:Object.entries(r.privacy).map(([s,a])=>e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/80 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx("input",{type:"checkbox",checked:a,onChange:t=>l("privacy",s,t.target.checked),className:"ml-3"})]},s))})})]})]})]})]})})};export{D as default};
