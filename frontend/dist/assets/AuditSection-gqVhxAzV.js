import{r as u,j as e,m as i}from"./animation-vendor-BWQ_wUI_.js";import{i as oe,L as de,f as _,b as F}from"./index-Bsn-bVUr.js";import{m as Q,s as V,D as I,k as ce,b as me,U as A,u as z,x as G,aa as xe,y as ue,Q as ge,ab as he,X as pe,a8 as be,a9 as ve,p as H,e as W,F as Y,d as B,N as O,Y as X,W as K}from"./ui-vendor-DPU-bu3U.js";import{d as D,e as J}from"./apollo-vendor-8AJvV5pX.js";import"./react-vendor-DJG_os-6.js";const fe=J`
  query GetAuditData($userId: Int!, $limit: Int = 50, $offset: Int = 0) {
    auditsGiven: audit(
      where: { auditorId: { _eq: $userId } }
      order_by: { createdAt: desc }
      limit: $limit
      offset: $offset
    ) {
      id
      grade
      createdAt
      group {
        path
        members { user { login, firstName, lastName } }
      }
    }
    auditsReceived: audit(
      where: { group: { members: { userId: { _eq: $userId } } } }
      order_by: { createdAt: desc }
      limit: $limit
      offset: $offset
    ) {
      id
      grade
      createdAt
      auditor { login, firstName, lastName }
      group {
        path
      }
    }
    auditsGiven_aggregate: audit_aggregate(where: { auditorId: { _eq: $userId }, grade: { _is_null: false } }) {
      aggregate {
        count
      }
    }
    auditsReceived_aggregate: audit_aggregate(where: { group: { members: { userId: { _eq: $userId } } }, grade: { _is_null: false } }) {
      aggregate {
        count
      }
    }
  }
`,ke=({user:t})=>{const[p,v]=u.useState(""),[d,b]=u.useState("all"),[s,x]=u.useState("all"),[y,c]=u.useState("boxes"),[g,$]=u.useState(50),[f,o]=u.useState(1);u.useEffect(()=>{o(1)},[p,d,s]);const{data:n,loading:w,error:N}=D(fe,{variables:{userId:t.id,limit:g,offset:(f-1)*g}}),{data:j,loading:Z,error:L}=D(oe,{variables:{id:t.id}}),{data:k,loading:ee,error:U}=D(J`
    query GetAuditTransactions($userId: Int!) {
      transaction(
        where: {
          userId: { _eq: $userId }
          _or: [
            { type: { _eq: "up" } }
            { type: { _eq: "down" } }
          ]
          attrs: { _has_key: "auditId" }
        }
        order_by: { createdAt: desc }
      ) {
        id
        amount
        path
        createdAt
        type
        attrs
      }
    }
  `,{variables:{userId:t.id}}),C=u.useMemo(()=>!n||!k?[]:[...(n.auditsGiven||[]).map(r=>({...r,type:"given"})),...(n.auditsReceived||[]).map(r=>({...r,type:"received"}))].map(r=>{const l=k.transaction.find(m=>m.attrs&&m.attrs.auditId===r.id);return l?{...r,amount:l.amount,transactionType:l.type}:{...r,amount:void 0,transactionType:void 0}}),[n,k]);if(w||Z||ee)return e.jsx(de,{});if(N||L||U)return e.jsxs("div",{children:["Error loading data: ",N?.message||L?.message||U?.message]});const te=s==="all"?C.sort((a,r)=>new Date(r.createdAt).getTime()-new Date(a.createdAt).getTime()):C.filter(a=>a.type===s),P=s==="all"?(n?.auditsGiven_aggregate.aggregate.count||0)+(n?.auditsReceived_aggregate.aggregate.count||0):s==="given"?n?.auditsGiven_aggregate.aggregate.count||0:n?.auditsReceived_aggregate.aggregate.count||0,R=Math.ceil(P/g),M=(s==="all"?C:C.filter(l=>l.type===s)).reduce((l,m)=>{if(!(m.grade!==null)){const T=new Date(m.createdAt);new Date().getTime()-T.getTime()>12096e5?l.reassigned+=1:l.pending+=1}return l},{pending:0,reassigned:0}),se=a=>{if(!a)return"";const r=a.split("/");return(r[r.length-1]||"").replace(/-/g," ").split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" ")},ae=a=>{if(!a.auditor)return"";const{login:r,firstName:l,lastName:m}=a.auditor;return`${r} ${l||""} ${m||""}`.trim()},re=(a,r)=>{if(!r)return!0;const l=r.toLowerCase();return!!(se(a.group?.path||"").toLowerCase().includes(l)||(a.group?.path||"").toLowerCase().includes(l)||a.auditor&&ae(a).toLowerCase().includes(l)||a.group?.members?.length&&a.group.members.length>0&&a.group.members.some(T=>{const{login:q,firstName:le,lastName:ne}=T.user;return`${q} ${le||""} ${ne||""}`.trim().toLowerCase().includes(l)}))},S=te.filter(a=>{const r=re(a,p);if(d==="all")return r;const l=a.grade!==null;return d==="completed"&&l||d==="pending"&&!l?r:!1});return e.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-emerald-900/20 to-slate-900 h-full w-full relative",children:e.jsx("div",{className:"relative z-10 h-full w-full overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"relative space-y-8 p-6",children:[e.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[e.jsxs(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full backdrop-blur-xl border border-emerald-400/30 mb-6 shadow-2xl shadow-emerald-500/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/10 to-teal-400/10 animate-pulse"}),e.jsx(Q,{className:"w-12 h-12 text-emerald-400 drop-shadow-lg relative z-10"})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-emerald-100 to-teal-100 bg-clip-text text-transparent mb-4",children:"Audits Dashboard"}),e.jsxs("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:["Track your peer review journey with ",e.jsx("span",{className:"text-emerald-400 font-semibold",children:P})," audit evaluations"]})]})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-8 gap-6",children:[e.jsx(h,{icon:V,title:"Total Up Points",value:_(j?.user_by_pk?.totalUp),color:"bg-gradient-to-r from-emerald-500/30 to-green-500/30",bgGradient:"bg-gradient-to-br from-emerald-900/20 to-green-900/20",subValue:"Positive feedback earned"}),e.jsx(h,{icon:I,title:"Total Down Points",value:_(j?.user_by_pk?.totalDown),color:"bg-gradient-to-r from-orange-500/30 to-red-500/30",bgGradient:"bg-gradient-to-br from-orange-900/20 to-red-900/20",subValue:"Areas for improvement"}),e.jsx(h,{icon:ce,title:"Audit Ratio",value:`${j?.user_by_pk?.auditRatio.toFixed(1)}`||"0.0",color:"bg-gradient-to-r from-blue-500/30 to-cyan-500/30",bgGradient:"bg-gradient-to-br from-blue-900/20 to-cyan-900/20",trend:j?.user_by_pk?.auditRatio>1?{value:Math.round((j?.user_by_pk?.auditRatio-1)*100),isPositive:!0}:void 0,subValue:j?.user_by_pk?.auditRatio>1?"Above average!":"Keep contributing"}),e.jsx(h,{icon:me,title:"Audits Given",value:`${n?.auditsGiven_aggregate.aggregate.count||0}`,color:"bg-gradient-to-r from-purple-500/30 to-violet-500/30",bgGradient:"bg-gradient-to-br from-purple-900/20 to-violet-900/20",subValue:"Reviews provided"}),e.jsx(h,{icon:A,title:"Audits Received",value:`${n?.auditsReceived_aggregate.aggregate.count||0}`,color:"bg-gradient-to-r from-teal-500/30 to-cyan-500/30",bgGradient:"bg-gradient-to-br from-teal-900/20 to-cyan-900/20",subValue:"Reviews received"}),e.jsx(h,{icon:z,title:"Total Audits",value:`${(n?.auditsGiven_aggregate.aggregate.count||0)+(n?.auditsReceived_aggregate.aggregate.count||0)}`,color:"bg-gradient-to-r from-emerald-500/30 to-teal-500/30",bgGradient:"bg-gradient-to-br from-emerald-900/20 to-teal-900/20",subValue:"Overall audit activity"}),e.jsx(h,{icon:G,title:"Pending Audits",value:`${M.pending}`,color:"bg-gradient-to-r from-yellow-500/30 to-orange-500/30",bgGradient:"bg-gradient-to-br from-yellow-900/20 to-orange-900/20",subValue:s==="all"?"Awaiting completion":s==="given"?"You need to complete":"Awaiting your review"}),e.jsx(h,{icon:xe,title:"Re-assigned Audits",value:`${M.reassigned}`,color:"bg-gradient-to-r from-indigo-500/30 to-blue-500/30",bgGradient:"bg-gradient-to-br from-indigo-900/20 to-blue-900/20",subValue:s==="all"?"Overdue assignments":s==="given"?"Your overdue reviews":"Overdue reviews of you"})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"flex justify-center",children:e.jsx("div",{className:"bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-xl border border-white/20 rounded-3xl p-3 shadow-2xl",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(i.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>x("all"),className:`relative overflow-hidden px-8 py-4 rounded-2xl font-bold transition-all duration-300 ${s==="all"?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-white/20":"text-white/70 hover:text-white hover:bg-white/10 hover:border-emerald-400/30 border border-transparent"}`,children:[s==="all"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-2xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),e.jsxs("div",{className:"flex items-center space-x-2 relative z-10",children:[e.jsx(z,{className:`w-5 h-5 ${s==="all"?"drop-shadow-lg":""}`}),e.jsx("span",{children:"All Audits"})]}),s!=="all"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-2xl opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(i.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>x("given"),className:`relative overflow-hidden px-8 py-4 rounded-2xl font-bold transition-all duration-300 ${s==="given"?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-white/20":"text-white/70 hover:text-white hover:bg-white/10 hover:border-emerald-400/30 border border-transparent"}`,children:[s==="given"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-2xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),e.jsxs("div",{className:"flex items-center space-x-2 relative z-10",children:[e.jsx(V,{className:`w-5 h-5 ${s==="given"?"drop-shadow-lg":""}`}),e.jsx("span",{children:"Audits Given"})]}),s!=="given"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-2xl opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(i.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>x("received"),className:`relative overflow-hidden px-8 py-4 rounded-2xl font-bold transition-all duration-300 ${s==="received"?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-white/20":"text-white/70 hover:text-white hover:bg-white/10 hover:border-emerald-400/30 border border-transparent"}`,children:[s==="received"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/20 to-teal-400/20 rounded-2xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),e.jsxs("div",{className:"flex items-center space-x-2 relative z-10",children:[e.jsx(A,{className:`w-5 h-5 ${s==="received"?"drop-shadow-lg":""}`}),e.jsx("span",{children:"Audits Received"})]}),s!=="received"&&e.jsx(i.div,{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-2xl opacity-0 hover:opacity-100 transition-opacity duration-300"})]})]})})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by project, auditor, or members...",value:p,onChange:a=>v(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-white/70"}),e.jsxs("select",{value:d,onChange:a=>b(a.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>c("boxes"),className:`p-2 rounded-lg border transition-all duration-200 ${y==="boxes"?"bg-white/10 border-white/20 text-white":"bg-transparent border-white/10 text-white/50 hover:text-white/70 hover:bg-white/5"}`,children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded-lg border transition-all duration-200 ${y==="list"?"bg-white/10 border-white/20 text-white":"bg-transparent border-white/10 text-white/50 hover:text-white/70 hover:bg-white/5"}`,children:e.jsx(pe,{className:"w-4 h-4"})})]})]})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:y==="boxes"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:S.map((a,r)=>e.jsx(we,{audit:a,index:r,viewMode:y},`${a.id}-${a.type}`))}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm",children:"Items per page:"}),e.jsxs("select",{value:g,onChange:a=>{$(Number(a.target.value)),o(1)},className:"bg-white/10 border border-white/20 rounded-lg px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm",children:["Showing ",S.length," of ",P," audits (Page ",f," of ",R,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(a=>Math.max(a-1,1)),disabled:f===1,className:"p-2 bg-white/10 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-colors",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>o(a=>Math.min(a+1,R)),disabled:f===R,className:"p-2 bg-white/10 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-colors",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})]}),S.length===0&&!w&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(A,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),e.jsx("h3",{className:"text-white/70 text-lg font-medium mb-2",children:"No audits found"}),e.jsx("p",{className:"text-white/50",children:"Try adjusting your search criteria or filters."})]})]})})})},h=({icon:t,title:p,value:v,color:d,subValue:b,trend:s,bgGradient:x})=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${x||"bg-gradient-to-br from-slate-800/50 to-slate-900/50"} backdrop-blur-lg rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 hover:transform hover:scale-105 shadow-lg hover:shadow-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${d} backdrop-blur-sm`,children:e.jsx(t,{className:"w-8 h-8 text-white drop-shadow-lg"})}),s&&e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-semibold ${s.isPositive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[s.isPositive?"↗":"↘"," ",Math.abs(s.value),"%"]})]}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:v}),e.jsx("p",{className:"text-white/70 text-sm font-medium",children:p}),b&&e.jsx("p",{className:"text-white/50 text-xs mt-2 bg-white/5 rounded-lg px-2 py-1",children:b})]}),we=({audit:t,index:p,viewMode:v="boxes"})=>{const[d,b]=u.useState(!1),s=t.grade!==null,x=s&&t.grade>=1,c=(()=>{if(s)return x?"Passed":"Failed";const o=14*24*60*60*1e3,n=new Date(t.createdAt);return new Date().getTime()-n.getTime()>o?"Re-Assigned":"Pending"})(),g=()=>{switch(c){case"Passed":return"text-green-400 bg-green-400/20";case"Failed":return"text-red-400 bg-red-400/20";case"Re-Assigned":return"text-blue-400 bg-blue-400/20";default:return"text-yellow-400 bg-yellow-400/20"}},$=o=>{if(!o)return"Unknown Project";const n=o.split("/"),w=n[n.length-1]||"";return w?w.replace(/-/g," ").split(" ").map(N=>N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()).join(" "):"Unknown Project"},f=()=>t.type==="given"?"Audited Members":"Auditor";return e.jsxs(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:p*.05},className:`bg-slate-800/50 backdrop-blur-lg rounded-xl border border-slate-700/50 hover:bg-slate-800/70 hover:border-slate-600/50 transition-all duration-300 shadow-lg ${v==="boxes"?"p-6":"p-4"}`,children:[v==="list"?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(H,{className:"w-5 h-5 text-primary-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("span",{className:"text-white font-semibold text-lg truncate",children:$(t.group.path)}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold uppercase tracking-wide ${g()}`,children:c})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:F(t.createdAt)})]}),s&&c!=="Re-Assigned"&&c!=="Pending"&&e.jsxs("div",{className:"flex items-center space-x-1",children:[t.type==="given"?e.jsx(Y,{className:"w-4 h-4 text-green-400"}):e.jsx(I,{className:"w-4 h-4 text-red-400"}),e.jsxs("span",{className:t.type==="given"?"text-green-400":"text-red-400",children:[t.type==="given"?"+":"-",t.amount!==void 0?_(Math.abs(t.amount)):"0"]})]}),c!=="Re-Assigned"&&e.jsxs("div",{className:"flex items-center space-x-1",children:[s?x?e.jsx(B,{className:"w-4 h-4 text-green-400"}):e.jsx(O,{className:"w-4 h-4 text-red-400"}):e.jsx(G,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-white",children:s?Number(t.grade.toFixed(2))*100+"%":"Pending"})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:e.jsx(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!d),className:"p-2 bg-primary-500/20 rounded-lg hover:bg-primary-500/30 transition-colors",children:d?e.jsx(X,{className:"w-4 h-4 text-primary-400"}):e.jsx(K,{className:"w-4 h-4 text-primary-400"})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-primary-400"})}),e.jsx("div",{children:e.jsx("span",{className:"text-white font-semibold text-lg",children:$(t.group.path)})})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide ${g()}`,children:c})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:F(t.createdAt)}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Date"})]})]}),s&&c!=="Re-Assigned"&&c!=="Pending"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t.type==="given"?"bg-green-400/20":"bg-red-400/20"}`,children:t.type==="given"?e.jsx(Y,{className:"w-4 h-4 text-green-400"}):e.jsx(I,{className:"w-4 h-4 text-red-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-white font-medium ${t.type==="given"?"text-green-400":"text-red-400"}`,children:[t.type==="given"?"+":"-",t.amount!==void 0?_(Math.abs(t.amount)):"0"]}),e.jsx("div",{className:"text-slate-400 text-sm",children:t.type==="given"?"Up Points":"Down Points"})]})]}),c!=="Re-Assigned"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${g()}`,children:s?x?e.jsx(B,{className:"w-4 h-4"}):e.jsx(O,{className:"w-4 h-4"}):e.jsx(G,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:s?Number(t.grade.toFixed(2))*100+"%":"Pending"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Grade"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-slate-700/50 cursor-pointer hover:bg-slate-700/30 rounded-lg p-3 transition-colors",onClick:()=>b(!d),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-4 h-4 text-primary-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f()}),e.jsx("div",{className:"text-slate-400 text-sm",children:d?"Click to hide":"Click to view"})]})]}),e.jsx("div",{className:"transition-transform duration-200",children:d?e.jsx(X,{className:"w-5 h-5 text-slate-400"}):e.jsx(K,{className:"w-5 h-5 text-slate-400"})})]})]}),d&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 bg-slate-900/50 rounded-lg p-4 border border-slate-700/30",children:e.jsxs("div",{className:"space-y-3",children:[t.type!=="given"&&t.auditor&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Q,{className:"w-5 h-5 text-primary-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Auditor"})]}),e.jsx("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500/30 to-primary-600/30 rounded-full flex items-center justify-center border border-primary-500/20",children:e.jsx("span",{className:"text-primary-300 text-sm font-semibold",children:t.auditor.firstName?.[0]||t.auditor.login[0]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:t.auditor.login}),e.jsx("div",{className:"text-slate-400 text-sm",children:`${t.auditor.firstName} ${t.auditor.lastName}`})]})]})})]}),t.type!=="received"&&t.group?.members?.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-primary-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Audited Members"})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 custom-scrollbar",children:t.group?.members?.map(o=>e.jsx("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500/30 to-primary-600/30 rounded-full flex items-center justify-center border border-primary-500/20",children:e.jsx("span",{className:"text-primary-300 text-sm font-semibold",children:o.user.firstName?.[0]||o.user.login[0]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:o.user.login}),e.jsx("div",{className:"text-slate-400 text-sm",children:`${o.user.firstName} ${o.user.lastName}`})]})]})},o.user.login))})]})]})})]})};export{ke as default};
