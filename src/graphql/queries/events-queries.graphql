# Events Query following official database structure
query GetEvents($userId: Int!, $limit: Int = 50) {
  event(
    where: {
      eventUsers: { userId: { _eq: $userId } }
    }
    order_by: { createdAt: desc }
    limit: $limit
  ) {
    id
    path
    campus
    createdAt
    endAt
    status
    code
    object {
      id
      name
      type
      attrs
    }
    parent {
      id
      path
      campus
    }
    registration {
      id
      startAt
      endAt
      eventStartAt
      attrs
    }
    eventUsers {
      id
      userId
      createdAt
    }
  }
}
