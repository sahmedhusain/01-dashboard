# Import required fragments
#import "../fragments/session-fragments.graphql"

# Query for user sessions
query GetUserSessions($userId: Int!, $limit: Int = 10, $offset: Int = 0) {
  user(where: { id: { _eq: $userId } }) {
    id
    login

    # User sessions
    sessions(
      limit: $limit
      offset: $offset
      order_by: { createdAt: desc }
    ) {
      ...ToadSessionInfo
    }

    # Sessions aggregate
    sessions_aggregate {
      ...ToadSessionsAggregateInfo
    }
  }
}
